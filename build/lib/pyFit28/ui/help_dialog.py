# -*- coding: utf-8 -*-
from PyQt4 import QtCore, QtGuitry:    _fromUtf8 = QtCore.QString.fromUtf8except AttributeError:    def _fromUtf8(s):        return stry:    _encoding = QtGui.QApplication.UnicodeUTF8    def _translate(context, text, disambig):        return QtGui.QApplication.translate(context, text, disambig, _encoding)except AttributeError:    def _translate(context, text, disambig):        return QtGui.QApplication.translate(context, text, disambig)class Ui_Help_Dialog(object):    def setupUi(self, Help_Dialog):        Help_Dialog.setObjectName(_fromUtf8("Help_Dialog"))        Help_Dialog.resize(855, 721)        self.gridLayout = QtGui.QGridLayout(Help_Dialog)        self.gridLayout.setObjectName(_fromUtf8("gridLayout"))        self.displayText = QtGui.QTextEdit(Help_Dialog)        self.displayText.setReadOnly(True)        self.displayText.setObjectName(_fromUtf8("displayText"))        self.gridLayout.addWidget(self.displayText, 0, 0, 1, 2)        self.example_resolution = QtGui.QPushButton(Help_Dialog)        self.example_resolution.setMinimumSize(QtCore.QSize(0, 40))        self.example_resolution.setObjectName(_fromUtf8("example_resolution"))        self.gridLayout.addWidget(self.example_resolution, 1, 0, 1, 1)        self.example_config = QtGui.QPushButton(Help_Dialog)        self.example_config.setMinimumSize(QtCore.QSize(0, 40))        self.example_config.setObjectName(_fromUtf8("example_config"))        self.gridLayout.addWidget(self.example_config, 1, 1, 1, 1)        self.retranslateUi(Help_Dialog)        QtCore.QMetaObject.connectSlotsByName(Help_Dialog)    def retranslateUi(self, Help_Dialog):        Help_Dialog.setWindowTitle(_translate("Help_Dialog", "How to use this program", None))        self.displayText.setHtml(_translate("Help_Dialog", "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0//EN\" \"http://www.w3.org/TR/REC-html40/strict.dtd\">\n""<html><head><meta name=\"qrichtext\" content=\"1\" /><style type=\"text/css\">\n""p, li { white-space: pre-wrap; }\n""</style></head><body style=\" font-family:\'MS Shell Dlg 2\'; font-size:8.25pt; font-weight:400; font-style:normal;\">\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">This program needs to load data files with column format, the first column is the energy transfer in meV, the second is spectrum intensity, normalized to monitor and times the monitor\'s mean value:</span></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">I_norm = I_detector_counts/monitor_counts * mean(monitor)</span></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">The third column is the errorbar (uncertainty) of the intensity</span></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">The fourth column is just a separator</span></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">The fifth column is the detector\'s counts</span></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">The sixth column is the monitor\'s counts</span></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">The last column is sqrt(detector\'s counts)</span></p>\n""<p style=\"-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:8pt;\"><br /></p>\n""<p style=\"-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:8pt;\"><br /></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:12pt; font-weight:600;\">Procedure to follow when using this program:</span></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#ff0000;\">1. Extract IXS data from Spec &gt;&gt; 2. Load extracted data files &gt;&gt; 3. Load resolution parameters file &gt;&gt; 4. Fit</span></p>\n""<p style=\"-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt;\"><br /></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; font-style:italic; color:#005500;\">================= ========== DETAIL ==================================</span></p>\n""<p style=\"-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:8pt;\"><br /></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">1) Extract the IXS data from SPEC file &gt;&gt; Click on the</span><span style=\" font-size:10pt; font-weight:600; color:#0000ff;\"> Extract </span><span style=\" font-size:10pt; color:#0000ff;\">button (second button on the toolbar)</span></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">You need to browse the spec file and the configuration file for extraction. An example of this file is given below. You can copy the content and save it locally. Alternatively you can extract IXS data from SPEC using the addIXS program on ID28.</span></p>\n""<p style=\"-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt; color:#0000ff;\"><br /></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">2) Load the extracted data files to the program &gt;&gt; Click the </span><span style=\" font-size:10pt; font-weight:600; color:#0000ff;\">Open</span><span style=\" font-size:10pt; color:#0000ff;\"> button (first button on the toolbar)</span></p>\n""<p style=\"-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt; color:#0000ff;\"><br /></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">3) Load the resolution parameters file &gt;&gt; Click the </span><span style=\" font-size:10pt; font-weight:600; color:#0000ff;\">Resolution</span><span style=\" font-size:10pt; color:#0000ff;\"> button (third button on the toolbar)</span></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">The resolution parameters file is issued when you fit the resolution function data with the matlab routine at ID28 (the matlab routine can be found in the Leonov PC). An example of the resolution parameters file is given below. You can copy the content and save it locally.</span></p>\n""<p style=\"-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt; color:#0000ff;\"><br /></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">4) Fit: The rules are follow:</span></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">- </span><span style=\" font-size:10pt; font-weight:600; color:#0000ff;\">Double-click</span><span style=\" font-size:10pt; color:#0000ff;\"> on a file item in the list to plot the data</span></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#ff0000;\">- </span><span style=\" font-size:10pt; font-weight:600; color:#ff0000;\">Right-click</span><span style=\" font-size:10pt; color:#ff0000;\"> on the </span><span style=\" font-size:10pt; font-weight:600; color:#ff0000;\">Elastic</span><span style=\" font-size:10pt; color:#ff0000;\"> line first, please.</span></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">- </span><span style=\" font-size:10pt; font-weight:600; color:#0000ff;\">Right-click</span><span style=\" font-size:10pt; color:#0000ff;\"> on each excitation peak, only on the </span><span style=\" font-size:10pt; font-weight:600; color:#0000ff;\">Stoke</span><span style=\" font-size:10pt; color:#0000ff;\"> side. </span></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; font-style:italic; color:#0000ff;\">A row is added below the graph on every click. Each row corresponds to one excitation. The format of each row is: Amplitude, Center, Width. Each parameter has 4 fields: current value, min, max and FIX. This will provide guess values for fitting.</span></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">- Click the </span><span style=\" font-size:10pt; font-weight:600; color:#0000ff;\">Fit</span><span style=\" font-size:10pt; color:#0000ff;\"> button to start fitting. Alternatively you can hit the </span><span style=\" font-size:10pt; font-weight:600; color:#0000ff;\">ENTER</span><span style=\" font-size:10pt; color:#0000ff;\"> key to start fitting.</span></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">- You can modify the </span><span style=\" font-size:10pt; font-weight:600; color:#0000ff;\">constraints</span><span style=\" font-size:10pt; color:#0000ff;\"> to improve the fit. For </span><span style=\" font-size:10pt; font-weight:600; color:#0000ff;\">min</span><span style=\" font-size:10pt; color:#0000ff;\"> and </span><span style=\" font-size:10pt; font-weight:600; color:#0000ff;\">max</span><span style=\" font-size:10pt; color:#0000ff;\"> value, if leave blank --&gt; no constraint.</span></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">- Fitted results are written in 2 files: *.par contains fitted parameters, *.fit contains fitted data (see header line in this file to know which column is what).</span></p>\n""<p style=\"-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt; color:#0000ff;\"><br /></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:12pt; font-weight:600; color:#000000;\">Installation on your own PC:</span></p>\n""<p style=\"-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:12pt; font-weight:600; color:#000000;\"><br /></p>\n""<p style=\" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;\"><span style=\" font-size:10pt; color:#0000ff;\">To install this program on your PC: go to </span><a href=\"https://github.com/Traecp/pyFit28\"><span style=\" font-size:8pt; text-decoration: underline; color:#0000ff;\">https://github.com/Traecp/pyFit28</span></a><span style=\" font-size:10pt; color:#0000ff;\">, download the source code and follow instruction for installation.</span></p>\n""<p style=\"-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-size:10pt; color:#0000ff;\"><br /></p></body></html>", None))        self.example_resolution.setText(_translate("Help_Dialog", "Example of resolution parameters file", None))        self.example_config.setText(_translate("Help_Dialog", "Example of configuration file for extraction of IXS scans", None))